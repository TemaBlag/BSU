# Лабораторная работа №11  
## **Работа с представлениями и индексами в SQL**  

### **Задание на самостоятельную работу**  

1. **Создание модифицируемого представления:**  
   - Создайте представление, выводящее данные о студентах, имеющих отличные оценки (представление создается на базе таблицы `USP`).  
   - Предусмотрите невозможность модификации таблицы `USP` через созданное представление с помощью команды:  
     ```sql
     INSERT INTO имя_представления VALUES (код_оценки, 3415, 4)
     ```  
   - Для этого используйте опцию `WITH CHECK OPTION`.  
     > **Примечание:**  
     > Опция `WITH CHECK OPTION` выполняет проверку всех команд модификации. Она применяется только для представлений, основанных на базовых таблицах, а не на других представлениях.  

2. **Модификация представления для индексации:**  
   - Модифицируйте созданное представление так, чтобы для него можно было создать индексы.  
   - Создайте индекс по полям `UNUM` и `UDATE`.  
   - Для просмотра информации о созданном индексе используйте хранимую процедуру:  
     ```sql
     EXEC sp_helpindex <имя_представления>
     ```  
   - Дайте объяснение, что изменилось с точки зрения СУБД при работе с представлением после создания индекса.  

3. **Создание представления для выборки оценок за вчерашний день:**  
   - Создайте представление, выводящее список оценок по математике за вчерашний день.  
   - Для проверки добавьте соответствующую запись в базу данных.  

     > **Примечание:**  
     > При работе с датами используйте следующие функции:  
     > - **`GETDATE()`**: возвращает текущую дату и время.  
       ```sql
       SELECT GETDATE()
       ```  
       **Пример вывода:**  
       ```
       July 29 1998 2:50 PM
       ```  
     > - **`DATEADD(date_part, number, date)`**: возвращает указанную дату с добавленным интервалом.  
       ```sql
       SELECT DATEADD(day, 21, pubdate) AS timeframe FROM titles
       ```  
       **Пример вывода:**  
       ```
       timeframe  
       ---------------------------  
       Jul 3 1991 12:00AM  
       ```  
     > - **`CONVERT(datatype[length], expression, [, style])`**: явное преобразование типов.  
       Это необходимо для отброса времени суток из результата `GETDATE()` перед сравнением. Например:  
       ```sql
       CONVERT(VARCHAR(12), GETDATE(), 101)
       ```  
