# Дерево отрезков сложная версия

Имеется последовательность $s_0, s_1, ...,s_{(n−1)}$, состоящая из нулей. На этой последовательности могут выполняться запросы следующих типов:

1. Установить значение $s[i]$ равным v.
2. Прибавить к каждому элементу с индексом из отрезка $[a,b]$ число v.
3. Найти сумму элементов с индексами из отрезка $[a,b]$.
4. Найти минимум среди элементов с индексами из отрезка $[a,b]$.
5. Найти максимум среди элементов с индексами из отрезка $[a,b]$.
